<html ng-app="myNoteApp">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">


    <script src="./currentBusInfo/jquery-2.1.4.js"></script>
    <script type="text/javascript" src="./currentBusInfo/angular.min.js"></script>
    <script src="./currentBusInfo/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="./currentBusInfo/bootstrap.css">
    <link href="./currentBusInfo/font-awesome.css" rel="stylesheet">

    <link rel="stylesheet" href="./currentBusInfo/reset.css"/>
    <link rel="stylesheet" href="./currentBusInfo/pullToRefresh.css"/>
    <script src="./currentBusInfo/iscroll.js"></script>
    <script src="./currentBusInfo/pullToRefresh.js"></script>


    <style type="text/css">

   
    .btn-default:active { 
      color: red; 
      text-decoration:none; 
    } 

    .btn-default:hover { 
      color: blue; 
      text-decoration:none; 
      background:  white;
    } 

     .btn-default:focus { 

      text-decoration:none; 

      border-bottom: 5px solid #2aabd2;
      background:  white;

    } 


    .scroller ul li {
    position: relative;
    border:0;
    padding: 1px;
    margin-bottom: 2px;
  background-color: white;
}

    .pullUp, .pullUpLabel {
  background-color: #e1e1e8;
}

    .tab-pane ul.list-group li {

    }


    </style>

</head>


<body ng-controller="myNoteCtrl" style="background-color: #e1e1e8;">




  <ul class="list-group">

     <li class="list-group-item text-center" style="height: 56px; font-size: 160%; background-color: #0581f3;"><strong style="color: white;">临港出行</strong></li>

      <li class="list-group-item" style="padding: 0;">

          <div class="row" style="padding: 0; margin: 0;">

              <div class="col-xs-9 col-sm-9 col-md-9 row" style="padding: 0;">

                  <div class="col-xs-3 col-sm-3 col-md-3" style="position: relative; padding: 0; left: 7.5%;">
                      <strong style="position: relative; font-size: 15px; top: 6px;">临港</strong>
                  </div>

                  <div class="col-xs-9 col-sm-9 col-md-9" style="padding: 0; ">

                    <div class="input-group" style="padding: 3px 0; width: 105%;">
                      <input type="text" class="form-control" placeholder="路名搜索" style=" font-size: 15px;">
                      <div class="input-group-addon" style="padding: 0 6px;">
                          <img src="./img/搜索.png" style="height: 25px; width: 25px;">
                      </div>
                    </div>

                  </div>
              </div>

              <div class="col-xs-3 col-sm-3 col-md-3" style="padding: 0;">
                  <a><strong style="position: relative; left: 45%; top: 7px; color: #00B7FF">实时公交</strong>
                  </a>
              </div>


          </div>

     </li>
  </ul>

{{1+1}}


<div id="myTab" class="btn-group btn-group-justified" role="group" style=" position: relative; top: 41.6%;">


   
      <a href="#wrapper" id="bn1" class="btn btn-default btn-lg" role="group" data-toggle="tab" style="padding: 4px; color: black;">
         附近公交
      </a>
   
   <a href="#bicycle" id="bn2" class="btn btn-default btn-lg" role="group" data-toggle="tab" style="padding: 4px; color: black;">自行车租赁</a>

   <a href="#favor" id="bn3" class="btn btn-default btn-lg" role="group" data-toggle="tab" style="padding: 4px; color: black;">收藏</a>
  

</div>




<div id="myTabContent" class="tab-content" style="position: relative; top: 42%;">

    <div class="tab-pane in active" id="wrapper">

  <ul class="list-group">

      <li class="list-group-item" style="width: 96%; position: relative; left: 2%;" ng-repeat="item in busAround">


      <ul class="row row-balance">

       
     <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ; color: black;">

        {{item.name}}
         
     </li> 

     <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

         <i class="fa fa-long-arrow-right"></i>
         开往 &nbsp&nbsp   上海火车站
     </li>

    <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ;">

    60米

    </li>

    <li class="col-xs-1 col-sm-1 col-md-1 text-center">
        <a>
            <img src="./img/导航.png" style="height: 20px; width: 18px;">
        </a>

    </li>







        </ul>

     </li>


  </ul>

  </div>

    <div class="tab-pane" id="bicycle" >

  <ul class="list-group">

      <li class="list-group-item">


          <ul class="row row-balance">


              <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ; color: black;">

                  185路

              </li>

              <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

                  <i class="fa fa-long-arrow-right"></i>
                  开往 &nbsp&nbsp   上海火车站
              </li>

              <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ;">

                  60米

              </li>

              <li class="col-xs-1 col-sm-1 col-md-1 text-center">
                  <a>
                      <img src="./img/导航.png" style="height: 20px; width: 18px;">
                  </a>

              </li>







          </ul>

      </li>

      <li class="list-group-item">


          <ul class="row row-balance">


              <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ; color: black;">

                  185路

              </li>

              <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

                  <i class="fa fa-long-arrow-right"></i>
                  开往 &nbsp&nbsp   上海火车站
              </li>

              <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ;">

                  60米

              </li>

              <li class="col-xs-1 col-sm-1 col-md-1 text-center">
                  <a>
                      <img src="./img/导航.png" style="height: 20px; width: 18px;">
                  </a>

              </li>







          </ul>

      </li>

      <li class="list-group-item">


          <ul class="row row-balance">


              <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ; color: black;">

                  185路

              </li>

              <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

                  <i class="fa fa-long-arrow-right"></i>
                  开往 &nbsp&nbsp   上海火车站
              </li>

              <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ;">

                  60米

              </li>

              <li class="col-xs-1 col-sm-1 col-md-1 text-center">
                  <a>
                      <img src="./img/导航.png" style="height: 20px; width: 18px;">
                  </a>

              </li>







          </ul>

      </li>

   </ul>
  </div>

    <div class="tab-pane" id="favor">

        <nav class="navbar navbar-default" role="navigation" style="min-height: 30px; height: 34px;">
            <div class="navbar-header" style="min-height: 30px; height: 34px;">


                <div style="font-size: 1.6em; color: #0f0f0f; margin-top: -1px;">

                    &nbsp
                    <img src="./img/收藏icon.png" style="height: 24px; width: 24px; position: relative; top: -3px;">




                    <ul style="display: inline-block; position: relative; top: -3px;">
                    <li class="dropdown" >
                        <a id="" role="button" class="dropdown-toggle" data-toggle="dropdown">选择 <b class="caret"></b></a>
                        <ul id="tab2" class="dropdown-menu" role="menu">
                            <li><a id="a1" tabindex="-1" href="#gotoWork" data-toggle="tab">上班</a></li>
                            <li><a id="a2" tabindex="-1" href="#goHome" data-toggle="tab">下班</a></li>

                            <li><a id="a3" tabindex="-1" href="#shopping" data-toggle="tab">购物</a></li>
                        </ul>
                    </li>
                    </ul>

                    <img src="./img/消息.png" style="height: 24px; width: 24px; position: relative;
                    left: 42%; top: -5px;">
                    <button data-toggle="collapse"
                            data-target="#example-navbar-collapse"
                            style="position:relative; margin: 3px 0 0 0; padding: 0; border: 0; background-color: white;
                           left: 42%; top: -5px;" >
                        <img src="./img/选项.png" style="height: 21px; width: 21px;">
                    </button>

                </div>
            </div>


            <div class="" id="xample-navbar-collapse" style="padding: 0;">
                <div id="fav" style="position: relative; height: 120px; width: 100%;">

                        <div class="tab-content" style="position: relative; top: 39%;">

                            <div id="gotoWork" class="tab-pane">

                                <ul class="list-group">

                                    <li class="list-group-item" style="width: 96%; position: relative; left: 2%;" ng-repeat="item in busAround">


                                        <ul class="row row-balance">


                                            <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ; color: black;">

                                                {{item.name}}

                                            </li>

                                            <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

                                                <i class="fa fa-long-arrow-right"></i>
                                                11111111111111开往 &nbsp&nbsp   上海火车站
                                            </li>





                                        </ul>

                                    </li>


                                </ul>

                            </div>
                            <div id="goHome" class="tab-pane">

                                <ul class="list-group">

                                    <li class="list-group-item" style="width: 96%; position: relative; left: 2%;" >


                                        <ul class="row row-balance">



                                            <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

                                                <i class="fa fa-long-arrow-right"></i>
                                                222222开往 &nbsp&nbsp   上海火车站
                                            </li>

                                            <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ;">

                                                60米

                                            </li>

                                            <li class="col-xs-1 col-sm-1 col-md-1 text-center">
                                                <a>
                                                    <img src="./img/导航.png" style="height: 20px; width: 18px;">
                                                </a>

                                            </li>







                                        </ul>

                                    </li>


                                </ul>

                            </div>
                            <div id="shopping" class="tab-pane">

                                <ul class="list-group">

                                    <li class="list-group-item" style="width: 96%; position: relative; left: 2%;">


                                        <ul class="row row-balance">



                                            <li class="col-xs-7 col-sm-7 col-md-7" style="color: #C0C0C0; font-size: ; padding-left: 5%; padding-top: ;">

                                                <i class="fa fa-long-arrow-right"></i>
                                                3333333开往 &nbsp&nbsp   上海火车站
                                            </li>

                                            <li class="col-xs-2 col-sm-2 col-md-2 text-center" style="font-size: ;">

                                                60米

                                            </li>

                                            <li class="col-xs-1 col-sm-1 col-md-1 text-center">
                                                <a>
                                                    <img src="./img/导航.png" style="height: 20px; width: 18px;">
                                                </a>

                                            </li>







                                        </ul>

                                    </li>


                                </ul>

                            </div>

                        </div>



                </div>
            </div>
        </nav>


    </div>

</div>


 <!--
 -->


<nav role="navigation" class="navbar navbar-default navbar-fixed-bottom" style="padding: 2px 0;">


           <ul class="row list-inline ">

               <li class="text-center col-xs-4 col-sm-4 col-md-4" style="">
                 
                 <a href="/features" style="color: #44A4FB;">
                 <img src="./img/出行.png" style="height: 20px; width: 20px;">
                 <img src="./img/出行2.png" style="display: none; height: 20px; width: 20px;">
                     <div>出行</div>
                 </a>
               </li>
                       

                         
           <li class="text-center col-xs-4 col-sm-4 col-md-4" style="">

               <a href="/features" style="color: #44A4FB;">
                   <img src="./img/微公交.png" style="height: 20px; width: 20px;">
                   <img src="./img/出行2.png" style="display: none; height: 20px; width: 20px;">
                   <p>微公交</p>
               </a>
           </li>
                                                          
                                     
           <li class="text-center col-xs-4 col-sm-4 col-md-4" style="">

               <a href="/features" style="color: #44A4FB;">
                   <img src="./img/设置.png" style="height: 20px; width: 20px;">
                   <img src="./img/出行2.png" style="display: none; height: 20px; width: 20px;">
                   <p>设置</p>
               </a>

            </li>
                           
       </ul>


   
   </nav>


<script type="text/javascript">

     $(function () { 




      })

     refresher.init({
         id:"wrapper",//<------------------------------------------------------------------------------------┐

         pullUpAction:Load
     });
     refresher.init({
         id:"bicycle",//<------------------------------------------------------------------------------------┐

         pullUpAction:bLoad
     });
     refresher.init({
         id:"fav",//<------------------------------------------------------------------------------------┐

         pullUpAction:fLoad
     });



    function Load() {

  setTimeout(function () {// <-- Simulate network congestion, remove setTimeout from production!
    var el, li, i;
    el =document.querySelector("#wrapper ul");
    for (i=0; i<2; i++) {
      li = document.createElement('li');
        li.setAttribute('style','width: 96%; position: relative; left: 2%;');

        //console.log("(busLength+1) <= totalBusAround.length",(busLength+1) <= totalBusAround.length);

             ++busLength;

        if((busLength+1) <= totalBusAround.length)

        {

            li.innerHTML=
              "<ul class='row row-balance'> <li class='col-xs-2 col-sm-2 col-md-2 text-center' style=' color: black;'>" +totalBusAround[busLength].name+ " </li> <li class='col-xs-7 col-sm-7 col-md-7' style='color: #C0C0C0; font-size: ; padding-left: 5%;'> <i class='fa fa-long-arrow-right'></i>开往"+"&nbsp;&nbsp;" +" 上海火车站</li>" +
              "    <li class='col-xs-2 col-sm-2 col-md-2 text-center' >60米</li><li class='col-xs-1 col-sm-1 col-md-1 text-center'> <a><img src='./img/导航.png' style='height: 20px; width: 18px;'></a> </li></ul>"
            el.appendChild(li);
            console.log("(busLength+1)",busLength);
        }
        else{
            li.innerHTML=
                    "";
            //el.appendChild(li);
            --busLength;

        console.log("(busLength+1)",busLength);
        }


    }
        wrapper.refresh();/****remember to refresh after action completed！！！   ---id.refresh(); --- ****/
  },500);
 }
    function bLoad() {

  setTimeout(function () {// <-- Simulate network congestion, remove setTimeout from production!
    var el, li, i;
    el =document.querySelector("#bicycle ul");
    for (i=0; i<2; i++) {
      li = document.createElement('li');
      li.innerHTML=
              "<ul class='row row-balance'> <li class='col-xs-2 col-sm-2 col-md-2 text-center' style=' color: black;'>185路 </li> <li class='col-xs-7 col-sm-7 col-md-7' style='color: #C0C0C0; font-size: ; padding-left: 5%;'> <i class='fa fa-long-arrow-right'></i>开往  上海火车站</li>" +
              "    <li class='col-xs-2 col-sm-2 col-md-2 text-center' >60米</li><li class='col-xs-1 col-sm-1 col-md-1 text-center'> <a><img src='./img/导航.png' style='height: 20px; width: 18px;'></a> </li></ul>"
      el.appendChild(li);
    }
        wrapper.refresh();/****remember to refresh after action completed！！！   ---id.refresh(); --- ****/
  },1000);
 }
    function fLoad() {

         setTimeout(function () {// <-- Simulate network congestion, remove setTimeout from production!
             var el, li, i;
             el =document.querySelector("#fav ul");
             for (i=0; i<2; i++) {
                 li = document.createElement('li');
                 li.innerHTML=
                         "<ul class='row row-balance'> <li class='col-xs-2 col-sm-2 col-md-2 text-center' style=' color: black;'>185 </li> <li class='col-xs-7 col-sm-7 col-md-7' style='color: #C0C0C0; font-size: ; padding-left: 5%;'> <i class='fa fa-long-arrow-right'></i>开往  上海火车站</li>" +
                         "    </ul>"
                 el.appendChild(li);
             }
             wrapper.refresh();/****remember to refresh after action completed！！！   ---id.refresh(); --- ****/
         },1000);
     }







     var totalBusAround = [
         {name: '185路',
             destination: '',
             distance: ''},
         {name: '5路',
             destination: '',
             distance: ''},
         {name: '81路',
             destination: '',
             distance: ''},
         {name: '2路',
             destination: '',
             distance: ''},
         {name: '3路',
             destination: '',
             distance: ''},
         {name: '4路',
             destination: '',
             distance: ''}    ,
         {name: '7路',
             destination: '',
             distance: ''},
         {name: '9路',
             destination: '',
             distance: ''}
     ];
     var busLength = 4;
    var app = angular.module("myNoteApp", []);
    app.controller("myNoteCtrl", function ($scope) {

        //$scope.totalBusAround = totalBusAround;
        $scope.busAround = [];

        if(totalBusAround.length <busLength){
            $scope.busAround = totalBusAround;
        }
        else {
            for (var zI=0; zI<busLength; zI++){
                $scope.busAround.push(totalBusAround[zI]);
            }
        }



    })
</script>


</body>
</html>